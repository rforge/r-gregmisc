
R version 3.1.0 Patched (2014-05-26 r65771) -- "Spring Dance"
Copyright (C) 2014 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin13.1.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(SASxport)
Loading required package: chron
Loading required package: Hmisc
Loading required package: grid
Loading required package: lattice
Loading required package: survival
Loading required package: splines
Loading required package: Formula

Attaching package: 'Hmisc'

The following objects are masked from 'package:base':

    format.pval, round.POSIXt, trunc.POSIXt, units


Loaded SASxport version 1.4.2 (2014-07-17).

  Type `?SASxport' for usage information.

> Sys.setenv("TZ"="GMT")
> 
> 
> cars <- read.table(file="cars.sas", skip=3, nrows=26,
+                    col.names=c("MAKE","PRICE","MPG","REP78","FOREIGN"),
+                    header=F)
> 
> head(cars, n=5)
  MAKE PRICE MPG REP78 FOREIGN
1  AMC  4099  22     3       0
2  AMC  4749  17     3       0
3  AMC  3799  22     3       0
4 Audi  9690  17     5       1
5 Audi  6295  23     3       1
> 
> summary(cars)
     MAKE       PRICE            MPG            REP78          FOREIGN      
 AMC   :3   Min.   : 3299   Min.   :14.00   Min.   :2.000   Min.   :0.0000  
 Audi  :2   1st Qu.: 4466   1st Qu.:17.25   1st Qu.:3.000   1st Qu.:0.0000  
 BMW   :1   Median : 5146   Median :21.00   Median :3.000   Median :0.0000  
 Buick :7   Mean   : 6652   Mean   :20.92   Mean   :3.269   Mean   :0.2692  
 Cad.  :3   3rd Qu.: 8054   3rd Qu.:23.00   3rd Qu.:4.000   3rd Qu.:0.7500  
 Chev. :6   Max.   :15906   Max.   :35.00   Max.   :5.000   Max.   :1.0000  
 Datsun:4                                                                   
> 
> write.xport(cars,
+             file="cars2.xpt",
+             cDate=strptime("28JUL07: 20:59:49", format="%d%b%y:%H:%M:%S"),
+             osType="SunOS",
+             sasVer="9.1",
+             autogen.formats=FALSE
+ )
> 
> 
> ## Load both files back in as raw data
> a.1 <- readBin( con="cars.xpt",  what=raw(), n=1e5)
> a.2 <- readBin( con="cars2.xpt", what=raw(), n=1e5)
> 
> ## Display for diff
> a.2
   [1] 48 45 41 44 45 52 20 52 45 43 4f 52 44 2a 2a 2a 2a 2a 2a 2a 4c 49 42 52
  [25] 41 52 59 20 48 45 41 44 45 52 20 52 45 43 4f 52 44 21 21 21 21 21 21 21
  [49] 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30
  [73] 30 30 30 30 30 30 20 20 53 41 53 20 20 20 20 20 53 41 53 20 20 20 20 20
  [97] 53 41 53 4c 49 42 20 20 39 2e 31 20 20 20 20 20 53 75 6e 4f 53 00 00 00
 [121] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [145] 32 38 4a 55 4c 30 37 3a 32 30 3a 35 39 3a 34 39 32 38 4a 55 4c 30 37 3a
 [169] 32 30 3a 35 39 3a 34 39 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [193] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [217] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [241] 48 45 41 44 45 52 20 52 45 43 4f 52 44 2a 2a 2a 2a 2a 2a 2a 4d 45 4d 42
 [265] 45 52 20 20 48 45 41 44 45 52 20 52 45 43 4f 52 44 21 21 21 21 21 21 21
 [289] 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 31 36 30 30 30 30 30
 [313] 30 30 30 31 34 30 20 20 48 45 41 44 45 52 20 52 45 43 4f 52 44 2a 2a 2a
 [337] 2a 2a 2a 2a 44 53 43 52 50 54 52 20 48 45 41 44 45 52 20 52 45 43 4f 52
 [361] 44 21 21 21 21 21 21 21 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30
 [385] 30 30 30 30 30 30 30 30 30 30 30 30 30 30 20 20 53 41 53 20 20 20 20 20
 [409] 43 41 52 53 20 20 20 20 53 41 53 44 41 54 41 20 39 2e 31 20 20 20 20 20
 [433] 53 75 6e 4f 53 00 00 00 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [457] 20 20 20 20 20 20 20 20 32 38 4a 55 4c 30 37 3a 32 30 3a 35 39 3a 34 39
 [481] 32 38 4a 55 4c 30 37 3a 32 30 3a 35 39 3a 34 39 20 20 20 20 20 20 20 20
 [505] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [529] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [553] 20 20 20 20 20 20 20 20 48 45 41 44 45 52 20 52 45 43 4f 52 44 2a 2a 2a
 [577] 2a 2a 2a 2a 4e 41 4d 45 53 54 52 20 48 45 41 44 45 52 20 52 45 43 4f 52
 [601] 44 21 21 21 21 21 21 21 30 30 30 30 30 30 30 30 30 35 30 30 30 30 30 30
 [625] 30 30 30 30 30 30 30 30 30 30 30 30 30 30 20 20 00 02 00 00 00 08 00 01
 [649] 4d 41 4b 45 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [673] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [697] 20 20 20 20 20 20 20 20 00 00 00 00 00 00 00 00 20 20 20 20 20 20 20 20
 [721] 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 [745] 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 [769] 00 00 00 00 00 00 00 00 00 00 00 00 00 01 00 00 00 08 00 02 50 52 49 43
 [793] 45 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [817] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [841] 20 20 20 20 00 00 00 00 00 00 00 00 20 20 20 20 20 20 20 20 00 00 00 00
 [865] 00 00 00 08 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 [889] 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 [913] 00 00 00 00 00 00 00 00 00 01 00 00 00 08 00 03 4d 50 47 20 20 20 20 20
 [937] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [961] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
 [985] 00 00 00 00 00 00 00 00 20 20 20 20 20 20 20 20 00 00 00 00 00 00 00 10
[1009] 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[1033] 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[1057] 00 00 00 00 00 01 00 00 00 08 00 04 52 45 50 37 38 20 20 20 20 20 20 20
[1081] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
[1105] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 00 00 00 00
[1129] 00 00 00 00 20 20 20 20 20 20 20 20 00 00 00 00 00 00 00 18 00 00 00 00
[1153] 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[1177] 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[1201] 00 01 00 00 00 08 00 05 46 4f 52 45 49 47 4e 20 20 20 20 20 20 20 20 20
[1225] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
[1249] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 00 00 00 00 00 00 00 00
[1273] 20 20 20 20 20 20 20 20 00 00 00 00 00 00 00 20 00 00 00 00 00 00 00 00
[1297] 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[1321] 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 20 20 20 20
[1345] 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 48 45 41 44 45 52 20 52
[1369] 45 43 4f 52 44 2a 2a 2a 2a 2a 2a 2a 4f 42 53 20 20 20 20 20 48 45 41 44
[1393] 45 52 20 52 45 43 4f 52 44 21 21 21 21 21 21 21 30 30 30 30 30 30 30 30
[1417] 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 30 20 20
[1441] 41 4d 43 20 20 20 20 20 44 10 03 00 00 00 00 00 42 16 00 00 00 00 00 00
[1465] 41 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 41 4d 43 20 20 20 20 20
[1489] 44 12 8d 00 00 00 00 00 42 11 00 00 00 00 00 00 41 30 00 00 00 00 00 00
[1513] 00 00 00 00 00 00 00 00 41 4d 43 20 20 20 20 20 43 ed 70 00 00 00 00 00
[1537] 42 16 00 00 00 00 00 00 41 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[1561] 41 75 64 69 20 20 20 20 44 25 da 00 00 00 00 00 42 11 00 00 00 00 00 00
[1585] 41 50 00 00 00 00 00 00 41 10 00 00 00 00 00 00 41 75 64 69 20 20 20 20
[1609] 44 18 97 00 00 00 00 00 42 17 00 00 00 00 00 00 41 30 00 00 00 00 00 00
[1633] 41 10 00 00 00 00 00 00 42 4d 57 20 20 20 20 20 44 26 07 00 00 00 00 00
[1657] 42 19 00 00 00 00 00 00 41 40 00 00 00 00 00 00 41 10 00 00 00 00 00 00
[1681] 42 75 69 63 6b 20 20 20 44 12 d0 00 00 00 00 00 42 14 00 00 00 00 00 00
[1705] 41 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 42 75 69 63 6b 20 20 20
[1729] 44 1e 93 00 00 00 00 00 41 f0 00 00 00 00 00 00 41 40 00 00 00 00 00 00
[1753] 00 00 00 00 00 00 00 00 42 75 69 63 6b 20 20 20 44 16 9c 00 00 00 00 00
[1777] 42 12 00 00 00 00 00 00 41 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[1801] 42 75 69 63 6b 20 20 20 44 11 65 00 00 00 00 00 42 1a 00 00 00 00 00 00
[1825] 41 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 42 75 69 63 6b 20 20 20
[1849] 44 14 45 00 00 00 00 00 42 14 00 00 00 00 00 00 41 30 00 00 00 00 00 00
[1873] 00 00 00 00 00 00 00 00 42 75 69 63 6b 20 20 20 44 28 84 00 00 00 00 00
[1897] 42 10 00 00 00 00 00 00 41 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[1921] 42 75 69 63 6b 20 20 20 43 ff 20 00 00 00 00 00 42 13 00 00 00 00 00 00
[1945] 41 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 43 61 64 2e 20 20 20 20
[1969] 44 2c 79 00 00 00 00 00 41 e0 00 00 00 00 00 00 41 30 00 00 00 00 00 00
[1993] 00 00 00 00 00 00 00 00 43 61 64 2e 20 20 20 20 44 38 a4 00 00 00 00 00
[2017] 41 e0 00 00 00 00 00 00 41 20 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[2041] 43 61 64 2e 20 20 20 20 44 3e 22 00 00 00 00 00 42 15 00 00 00 00 00 00
[2065] 41 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 43 68 65 76 2e 20 20 20
[2089] 43 ce 30 00 00 00 00 00 42 1d 00 00 00 00 00 00 41 30 00 00 00 00 00 00
[2113] 00 00 00 00 00 00 00 00 43 68 65 76 2e 20 20 20 44 16 49 00 00 00 00 00
[2137] 42 10 00 00 00 00 00 00 41 40 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[2161] 43 68 65 76 2e 20 20 20 44 11 98 00 00 00 00 00 42 16 00 00 00 00 00 00
[2185] 41 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 43 68 65 76 2e 20 20 20
[2209] 44 13 f0 00 00 00 00 00 42 16 00 00 00 00 00 00 41 20 00 00 00 00 00 00
[2233] 00 00 00 00 00 00 00 00 43 68 65 76 2e 20 20 20 43 e5 30 00 00 00 00 00
[2257] 42 18 00 00 00 00 00 00 41 20 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[2281] 43 68 65 76 2e 20 20 20 43 f7 30 00 00 00 00 00 42 13 00 00 00 00 00 00
[2305] 41 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 44 61 74 73 75 6e 20 20
[2329] 44 18 55 00 00 00 00 00 42 17 00 00 00 00 00 00 41 40 00 00 00 00 00 00
[2353] 41 10 00 00 00 00 00 00 44 61 74 73 75 6e 20 20 44 11 ed 00 00 00 00 00
[2377] 42 23 00 00 00 00 00 00 41 50 00 00 00 00 00 00 41 10 00 00 00 00 00 00
[2401] 44 61 74 73 75 6e 20 20 44 13 d7 00 00 00 00 00 42 18 00 00 00 00 00 00
[2425] 41 40 00 00 00 00 00 00 41 10 00 00 00 00 00 00 44 61 74 73 75 6e 20 20
[2449] 44 1f c1 00 00 00 00 00 42 15 00 00 00 00 00 00 41 40 00 00 00 00 00 00
[2473] 41 10 00 00 00 00 00 00
> 
> ## Test that the files are identical
> stopifnot( all(a.1 == a.2) )
> 
> proc.time()
   user  system elapsed 
  0.485   0.042   0.518 
