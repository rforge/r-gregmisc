
R version 3.0.1 (2013-05-16) -- "Good Sport"
Copyright (C) 2013 The R Foundation for Statistical Computing
Platform: i686-pc-linux-gnu (32-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(SASxport)

Loaded SASxport version 1.3.5 (2013-06-14).

  Type `?SASxport' for usage information.

> Sys.setenv("TZ"="GMT")
> 
> ##tests
> example(read.xport)

rd.xpr> # -------
rd.xpr> # SAS code to generate test dataset:
rd.xpr> # -------
rd.xpr> # libname y SASV5XPT "test2.xpt";
rd.xpr> #
rd.xpr> # PROC FORMAT; VALUE race 1=green 2=blue 3=purple; RUN;
rd.xpr> # PROC FORMAT CNTLOUT=format;RUN;  * Name, e.g. 'format', unimportant;
rd.xpr> # data test;
rd.xpr> # LENGTH race 3 age 4;
rd.xpr> # age=30; label age="Age at Beginning of Study";
rd.xpr> # race=2;
rd.xpr> # d1='3mar2002'd ;
rd.xpr> # dt1='3mar2002 9:31:02'dt;
rd.xpr> # t1='11:13:45't;
rd.xpr> # output;
rd.xpr> #
rd.xpr> # age=31;
rd.xpr> # race=4;
rd.xpr> # d1='3jun2002'd ;
rd.xpr> # dt1='3jun2002 9:42:07'dt;
rd.xpr> # t1='11:14:13't;
rd.xpr> # output;
rd.xpr> # format d1 mmddyy10. dt1 datetime. t1 time. race race.;
rd.xpr> # run;
rd.xpr> # data z; LENGTH x3 3 x4 4 x5 5 x6 6 x7 7 x8 8;
rd.xpr> #    DO i=1 TO 100;
rd.xpr> #        x3=ranuni(3);
rd.xpr> #        x4=ranuni(5);
rd.xpr> #        x5=ranuni(7);
rd.xpr> #        x6=ranuni(9);
rd.xpr> #        x7=ranuni(11);
rd.xpr> #        x8=ranuni(13);
rd.xpr> #        output;
rd.xpr> #        END;
rd.xpr> #    DROP i;
rd.xpr> #    RUN;
rd.xpr> # PROC MEANS; RUN;
rd.xpr> # PROC COPY IN=work OUT=y;SELECT test format z;RUN; *Creates test2.xpt;
rd.xpr> # ------
rd.xpr> 
rd.xpr> # Read this dataset from a local file:
rd.xpr> ## Not run: 
rd.xpr> ##D w <- read.xport('test2.xpt')
rd.xpr> ## End(Not run)
rd.xpr> 
rd.xpr> # Or read a copy of test2.xpt available on the web:
rd.xpr> host <- 'http://biostat.mc.vanderbilt.edu'

rd.xpr> path <- '/cgi-bin/viewvc.cgi/*checkout*/Hmisc/trunk/tests/test2.xpt'

rd.xpr> url <- paste(host,path,sep="")

rd.xpr> w <- read.xport(url)

rd.xpr> # We can also get the dataset wrapped in a list
rd.xpr> w <- read.xport(url, as.list=TRUE)

rd.xpr> # And we can ask for the format information to be included as well.
rd.xpr> w <- read.xport(url, as.list=TRUE, include.formats=TRUE)

rd.xpr> ## Don't show: 
rd.xpr> SASxport:::assert( is.data.frame(w)==FALSE && is.list(w)==TRUE )

rd.xpr> ## End Don't show
rd.xpr> 
rd.xpr> 
rd.xpr> ## Not run: 
rd.xpr> ##D ## The Hmisc library provides many useful functions for interacting with
rd.xpr> ##D ## data imported from SAS via read.xport()
rd.xpr> ##D library(Hmisc)
rd.xpr> ##D 
rd.xpr> ##D describe(w$test)   # see labels, format names for dataset test
rd.xpr> ##D lapply(w, describe)# see descriptive stats in more detaiil for each variable
rd.xpr> ##D 
rd.xpr> ##D contents(w$test)   # another way to see variable attributes
rd.xpr> ##D lapply(w, contents)# show contents of individual items in more detail
rd.xpr> ##D 
rd.xpr> ##D options(digits=7)  # compare the following matrix with PROC MEANS output
rd.xpr> ##D t(sapply(w$z, function(x)
rd.xpr> ##D  c(Mean=mean(x),SD=sqrt(var(x)),Min=min(x),Max=max(x))))
rd.xpr> ## End(Not run)
rd.xpr> 
rd.xpr> 
rd.xpr> 
rd.xpr> 
> write.xport(w$test,file="a.xpt") #1.a
> lookup.xport("a.xpt")            #1.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `W$TEST':
 dataset name      type   format flength fdigits iformat iflength ifdigits
  W$TEST RACE character     RACE       0       0                0        0
  W$TEST  AGE   numeric                0       0                0        0
  W$TEST   D1   numeric   MMDDYY      10       0                0        0
  W$TEST  DT1   numeric DATETIME       0       0                0        0
  W$TEST   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

> (tmp <- read.xport("a.xpt"))     #1.c
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2       31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13
> 
> b <- w$test
> write.xport(b,file="a.xpt")      #2.a
> lookup.xport("a.xpt")            #2.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `B':
 dataset name      type   format flength fdigits iformat iflength ifdigits
       B RACE character     RACE       0       0                0        0
       B  AGE   numeric                0       0                0        0
       B   D1   numeric   MMDDYY      10       0                0        0
       B  DT1   numeric DATETIME       0       0                0        0
       B   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

> (tmp <- read.xport("a.xpt"))     #2.c
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2       31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13
> 
> write.xport(test=w$test,file="a.xpt") #3.a
> lookup.xport("a.xpt")                 #3.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `TEST':
 dataset name      type   format flength fdigits iformat iflength ifdigits
    TEST RACE character     RACE       0       0                0        0
    TEST  AGE   numeric                0       0                0        0
    TEST   D1   numeric   MMDDYY      10       0                0        0
    TEST  DT1   numeric DATETIME       0       0                0        0
    TEST   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

> (tmp <- read.xport("a.xpt"))          #3.c
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2       31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13
> 
> write.xport(test=w$test,z=w$z,file="a.xpt") #4.a
> lookup.xport("a.xpt")                       #4.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `TEST':
 dataset name      type   format flength fdigits iformat iflength ifdigits
    TEST RACE character     RACE       0       0                0        0
    TEST  AGE   numeric                0       0                0        0
    TEST   D1   numeric   MMDDYY      10       0                0        0
    TEST  DT1   numeric DATETIME       0       0                0        0
    TEST   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

Variables in data set `Z':
 dataset name    type format flength fdigits iformat iflength ifdigits label
       Z   X3 numeric              0       0                0        0      
       Z   X4 numeric              0       0                0        0      
       Z   X5 numeric              0       0                0        0      
       Z   X6 numeric              0       0                0        0      
       Z   X7 numeric              0       0                0        0      
       Z   X8 numeric              0       0                0        0      
 nobs
  100
  100
  100
  100
  100
  100

> (tmp <- read.xport("a.xpt"))                #4.c
$test
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2       31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$z
             X3         X4          X5         X6         X7          X8
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> write.xport(w$test,w$z,file="a.xpt") #5.a
> lookup.xport("a.xpt")                #5.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `W$TEST':
 dataset name      type   format flength fdigits iformat iflength ifdigits
  W$TEST RACE character     RACE       0       0                0        0
  W$TEST  AGE   numeric                0       0                0        0
  W$TEST   D1   numeric   MMDDYY      10       0                0        0
  W$TEST  DT1   numeric DATETIME       0       0                0        0
  W$TEST   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

Variables in data set `W$Z':
 dataset name    type format flength fdigits iformat iflength ifdigits label
     W$Z   X3 numeric              0       0                0        0      
     W$Z   X4 numeric              0       0                0        0      
     W$Z   X5 numeric              0       0                0        0      
     W$Z   X6 numeric              0       0                0        0      
     W$Z   X7 numeric              0       0                0        0      
     W$Z   X8 numeric              0       0                0        0      
 nobs
  100
  100
  100
  100
  100
  100

> (tmp <- read.xport("a.xpt"))         #5.c
$`w$test`
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2       31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$`w$z`
             X3         X4          X5         X6         X7          X8
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> write.xport(w$test,z=w$z,file="a.xpt") #6.a
> lookup.xport("a.xpt")                  #6.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `W$TEST':
 dataset name      type   format flength fdigits iformat iflength ifdigits
  W$TEST RACE character     RACE       0       0                0        0
  W$TEST  AGE   numeric                0       0                0        0
  W$TEST   D1   numeric   MMDDYY      10       0                0        0
  W$TEST  DT1   numeric DATETIME       0       0                0        0
  W$TEST   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

Variables in data set `Z':
 dataset name    type format flength fdigits iformat iflength ifdigits label
       Z   X3 numeric              0       0                0        0      
       Z   X4 numeric              0       0                0        0      
       Z   X5 numeric              0       0                0        0      
       Z   X6 numeric              0       0                0        0      
       Z   X7 numeric              0       0                0        0      
       Z   X8 numeric              0       0                0        0      
 nobs
  100
  100
  100
  100
  100
  100

> (tmp <- read.xport("a.xpt"))           #6.c
$`w$test`
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2       31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$z
             X3         X4          X5         X6         X7          X8
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> write.xport(list=w,file="a.xpt") #7.a
> lookup.xport("a.xpt")            #7.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `TEST':
 dataset name      type   format flength fdigits iformat iflength ifdigits
    TEST RACE   numeric     RACE       0       0                0        0
    TEST  AGE   numeric                0       0                0        0
    TEST   D1   numeric   MMDDYY      10       0                0        0
    TEST  DT1   numeric DATETIME       0       0                0        0
    TEST   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

Variables in data set `Z':
 dataset name    type format flength fdigits iformat iflength ifdigits label
       Z   X3 numeric              0       0                0        0      
       Z   X4 numeric              0       0                0        0      
       Z   X5 numeric              0       0                0        0      
       Z   X6 numeric              0       0                0        0      
       Z   X7 numeric              0       0                0        0      
       Z   X8 numeric              0       0                0        0      
 nobs
  100
  100
  100
  100
  100
  100

Variables in data set `FORMATS':
 dataset     name      type format flength fdigits iformat iflength ifdigits
 FORMATS  FMTNAME character              0       0                0        0
 FORMATS    START character              0       0                0        0
 FORMATS      END character              0       0                0        0
 FORMATS    LABEL character              0       0                0        0
 FORMATS      MIN   numeric              0       0                0        0
 FORMATS      MAX   numeric              0       0                0        0
 FORMATS  DEFAULT   numeric              0       0                0        0
 FORMATS   LENGTH   numeric              0       0                0        0
 FORMATS     FUZZ   numeric              0       0                0        0
 FORMATS   PREFIX character              0       0                0        0
 FORMATS     MULT   numeric              0       0                0        0
 FORMATS     FILL character              0       0                0        0
 FORMATS   NOEDIT   numeric              0       0                0        0
 FORMATS     TYPE character              0       0                0        0
 FORMATS    SEXCL character              0       0                0        0
 FORMATS    EEXCL character              0       0                0        0
 FORMATS      HLO character              0       0                0        0
 FORMATS   DECSEP character              0       0                0        0
 FORMATS  DIG3SEP character              0       0                0        0
 FORMATS DATATYPE character              0       0                0        0
 FORMATS LANGUAGE character              0       0                0        0
 label nobs
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3

> (tmp <- read.xport("a.xpt"))     #7.c
$test
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2 <NA>  31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$z
             X3         X4          X5         X6         X7          X8
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> names(w) <- NULL
> write.xport(w[[1]],w[[2]],file="a.xpt") #8.a
> lookup.xport("a.xpt")                   #8.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `W[[1]]':
 dataset name      type   format flength fdigits iformat iflength ifdigits
  W[[1]] RACE character     RACE       0       0                0        0
  W[[1]]  AGE   numeric                0       0                0        0
  W[[1]]   D1   numeric   MMDDYY      10       0                0        0
  W[[1]]  DT1   numeric DATETIME       0       0                0        0
  W[[1]]   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

Variables in data set `W[[2]]':
 dataset name    type format flength fdigits iformat iflength ifdigits label
  W[[2]]   X3 numeric              0       0                0        0      
  W[[2]]   X4 numeric              0       0                0        0      
  W[[2]]   X5 numeric              0       0                0        0      
  W[[2]]   X6 numeric              0       0                0        0      
  W[[2]]   X7 numeric              0       0                0        0      
  W[[2]]   X8 numeric              0       0                0        0      
 nobs
  100
  100
  100
  100
  100
  100

> (tmp <- read.xport("a.xpt"))            #8.c
$`w[[1]]`
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2       31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$`w[[2]]`
             X3         X4          X5         X6         X7          X8
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> names(w) <- NULL
> write.xport(list=w,file="a.xpt") #9.a
Warning message:
In write.xport(list = w, file = "a.xpt") :
  Replacing missing or invalid dataset names
> lookup.xport("a.xpt")            #9.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `DATA1':
 dataset name      type   format flength fdigits iformat iflength ifdigits
   DATA1 RACE character     RACE       0       0                0        0
   DATA1  AGE   numeric                0       0                0        0
   DATA1   D1   numeric   MMDDYY      10       0                0        0
   DATA1  DT1   numeric DATETIME       0       0                0        0
   DATA1   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

Variables in data set `DATA2':
 dataset name    type format flength fdigits iformat iflength ifdigits label
   DATA2   X3 numeric              0       0                0        0      
   DATA2   X4 numeric              0       0                0        0      
   DATA2   X5 numeric              0       0                0        0      
   DATA2   X6 numeric              0       0                0        0      
   DATA2   X7 numeric              0       0                0        0      
   DATA2   X8 numeric              0       0                0        0      
 nobs
  100
  100
  100
  100
  100
  100

Variables in data set `DATA3':
 dataset     name      type format flength fdigits iformat iflength ifdigits
   DATA3  FMTNAME character              0       0                0        0
   DATA3    START character              0       0                0        0
   DATA3      END character              0       0                0        0
   DATA3    LABEL character              0       0                0        0
   DATA3      MIN   numeric              0       0                0        0
   DATA3      MAX   numeric              0       0                0        0
   DATA3  DEFAULT   numeric              0       0                0        0
   DATA3   LENGTH   numeric              0       0                0        0
   DATA3     FUZZ   numeric              0       0                0        0
   DATA3   PREFIX character              0       0                0        0
   DATA3     MULT   numeric              0       0                0        0
   DATA3     FILL character              0       0                0        0
   DATA3   NOEDIT   numeric              0       0                0        0
   DATA3     TYPE character              0       0                0        0
   DATA3    SEXCL character              0       0                0        0
   DATA3    EEXCL character              0       0                0        0
   DATA3      HLO character              0       0                0        0
   DATA3   DECSEP character              0       0                0        0
   DATA3  DIG3SEP character              0       0                0        0
   DATA3 DATATYPE character              0       0                0        0
   DATA3 LANGUAGE character              0       0                0        0
 label nobs
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3

> (tmp <- read.xport("a.xpt"))     #9.c
$data1
  RACE AGE         D1                    DT1       T1
1 <NA>  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2 <NA>  31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$data2
             X3         X4          X5         X6         X7          X8
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> ### Check that we catch invalid parameters
> failure <- try( write.xport(5,"a.xpt") )             #10.a
Error in write.xport(5, "a.xpt") : 
  '5', 'a.xpt' are not data.frame objects.
> SASxport:::assert( "try-error" %in% class(failure) ) #10.b
> (tmp <- read.xport("a.xpt"))                         #10.c
$data1
  RACE AGE         D1                    DT1       T1
1 <NA>  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2 <NA>  31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$data2
             X3         X4          X5         X6         X7          X8
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> failure <- try( write.xport(list(a=5,b=6),"a.xpt") ) #11.a
Error in write.xport(list(a = 5, b = 6), "a.xpt") : 
  'list(a = 5, b = 6)', 'a.xpt' are not data.frame objects.
> SASxport:::assert( "try-error" %in% class(failure) ) #11.b
> (tmp <- read.xport("a.xpt"))                         #10.c
$data1
  RACE AGE         D1                    DT1       T1
1 <NA>  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2 <NA>  31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$data2
             X3         X4          X5         X6         X7          X8
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> # Check with different list construction function *name*
> example(read.xport)

rd.xpr> # -------
rd.xpr> # SAS code to generate test dataset:
rd.xpr> # -------
rd.xpr> # libname y SASV5XPT "test2.xpt";
rd.xpr> #
rd.xpr> # PROC FORMAT; VALUE race 1=green 2=blue 3=purple; RUN;
rd.xpr> # PROC FORMAT CNTLOUT=format;RUN;  * Name, e.g. 'format', unimportant;
rd.xpr> # data test;
rd.xpr> # LENGTH race 3 age 4;
rd.xpr> # age=30; label age="Age at Beginning of Study";
rd.xpr> # race=2;
rd.xpr> # d1='3mar2002'd ;
rd.xpr> # dt1='3mar2002 9:31:02'dt;
rd.xpr> # t1='11:13:45't;
rd.xpr> # output;
rd.xpr> #
rd.xpr> # age=31;
rd.xpr> # race=4;
rd.xpr> # d1='3jun2002'd ;
rd.xpr> # dt1='3jun2002 9:42:07'dt;
rd.xpr> # t1='11:14:13't;
rd.xpr> # output;
rd.xpr> # format d1 mmddyy10. dt1 datetime. t1 time. race race.;
rd.xpr> # run;
rd.xpr> # data z; LENGTH x3 3 x4 4 x5 5 x6 6 x7 7 x8 8;
rd.xpr> #    DO i=1 TO 100;
rd.xpr> #        x3=ranuni(3);
rd.xpr> #        x4=ranuni(5);
rd.xpr> #        x5=ranuni(7);
rd.xpr> #        x6=ranuni(9);
rd.xpr> #        x7=ranuni(11);
rd.xpr> #        x8=ranuni(13);
rd.xpr> #        output;
rd.xpr> #        END;
rd.xpr> #    DROP i;
rd.xpr> #    RUN;
rd.xpr> # PROC MEANS; RUN;
rd.xpr> # PROC COPY IN=work OUT=y;SELECT test format z;RUN; *Creates test2.xpt;
rd.xpr> # ------
rd.xpr> 
rd.xpr> # Read this dataset from a local file:
rd.xpr> ## Not run: 
rd.xpr> ##D w <- read.xport('test2.xpt')
rd.xpr> ## End(Not run)
rd.xpr> 
rd.xpr> # Or read a copy of test2.xpt available on the web:
rd.xpr> host <- 'http://biostat.mc.vanderbilt.edu'

rd.xpr> path <- '/cgi-bin/viewvc.cgi/*checkout*/Hmisc/trunk/tests/test2.xpt'

rd.xpr> url <- paste(host,path,sep="")

rd.xpr> w <- read.xport(url)

rd.xpr> # We can also get the dataset wrapped in a list
rd.xpr> w <- read.xport(url, as.list=TRUE)

rd.xpr> # And we can ask for the format information to be included as well.
rd.xpr> w <- read.xport(url, as.list=TRUE, include.formats=TRUE)

rd.xpr> ## Don't show: 
rd.xpr> SASxport:::assert( is.data.frame(w)==FALSE && is.list(w)==TRUE )

rd.xpr> ## End Don't show
rd.xpr> 
rd.xpr> 
rd.xpr> ## Not run: 
rd.xpr> ##D ## The Hmisc library provides many useful functions for interacting with
rd.xpr> ##D ## data imported from SAS via read.xport()
rd.xpr> ##D library(Hmisc)
rd.xpr> ##D 
rd.xpr> ##D describe(w$test)   # see labels, format names for dataset test
rd.xpr> ##D lapply(w, describe)# see descriptive stats in more detaiil for each variable
rd.xpr> ##D 
rd.xpr> ##D contents(w$test)   # another way to see variable attributes
rd.xpr> ##D lapply(w, contents)# show contents of individual items in more detail
rd.xpr> ##D 
rd.xpr> ##D options(digits=7)  # compare the following matrix with PROC MEANS output
rd.xpr> ##D t(sapply(w$z, function(x)
rd.xpr> ##D  c(Mean=mean(x),SD=sqrt(var(x)),Min=min(x),Max=max(x))))
rd.xpr> ## End(Not run)
rd.xpr> 
rd.xpr> 
rd.xpr> 
rd.xpr> 
> write.xport(list=base::list(w$test,w$z),file="a.xpt")   #11.a
Warning message:
In write.xport(list = base::list(w$test, w$z), file = "a.xpt") :
  Replacing missing or invalid dataset names
> lookup.xport("a.xpt")                                   #11.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `DATA1':
 dataset name      type   format flength fdigits iformat iflength ifdigits
   DATA1 RACE character     RACE       0       0                0        0
   DATA1  AGE   numeric                0       0                0        0
   DATA1   D1   numeric   MMDDYY      10       0                0        0
   DATA1  DT1   numeric DATETIME       0       0                0        0
   DATA1   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

Variables in data set `DATA2':
 dataset name    type format flength fdigits iformat iflength ifdigits label
   DATA2   X3 numeric              0       0                0        0      
   DATA2   X4 numeric              0       0                0        0      
   DATA2   X5 numeric              0       0                0        0      
   DATA2   X6 numeric              0       0                0        0      
   DATA2   X7 numeric              0       0                0        0      
   DATA2   X8 numeric              0       0                0        0      
 nobs
  100
  100
  100
  100
  100
  100

> (tmp <- read.xport("a.xpt"))                            #11.c
$data1
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2       31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$data2
             X3         X4          X5         X6         X7          X8
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> # remove names
> example(read.xport)

rd.xpr> # -------
rd.xpr> # SAS code to generate test dataset:
rd.xpr> # -------
rd.xpr> # libname y SASV5XPT "test2.xpt";
rd.xpr> #
rd.xpr> # PROC FORMAT; VALUE race 1=green 2=blue 3=purple; RUN;
rd.xpr> # PROC FORMAT CNTLOUT=format;RUN;  * Name, e.g. 'format', unimportant;
rd.xpr> # data test;
rd.xpr> # LENGTH race 3 age 4;
rd.xpr> # age=30; label age="Age at Beginning of Study";
rd.xpr> # race=2;
rd.xpr> # d1='3mar2002'd ;
rd.xpr> # dt1='3mar2002 9:31:02'dt;
rd.xpr> # t1='11:13:45't;
rd.xpr> # output;
rd.xpr> #
rd.xpr> # age=31;
rd.xpr> # race=4;
rd.xpr> # d1='3jun2002'd ;
rd.xpr> # dt1='3jun2002 9:42:07'dt;
rd.xpr> # t1='11:14:13't;
rd.xpr> # output;
rd.xpr> # format d1 mmddyy10. dt1 datetime. t1 time. race race.;
rd.xpr> # run;
rd.xpr> # data z; LENGTH x3 3 x4 4 x5 5 x6 6 x7 7 x8 8;
rd.xpr> #    DO i=1 TO 100;
rd.xpr> #        x3=ranuni(3);
rd.xpr> #        x4=ranuni(5);
rd.xpr> #        x5=ranuni(7);
rd.xpr> #        x6=ranuni(9);
rd.xpr> #        x7=ranuni(11);
rd.xpr> #        x8=ranuni(13);
rd.xpr> #        output;
rd.xpr> #        END;
rd.xpr> #    DROP i;
rd.xpr> #    RUN;
rd.xpr> # PROC MEANS; RUN;
rd.xpr> # PROC COPY IN=work OUT=y;SELECT test format z;RUN; *Creates test2.xpt;
rd.xpr> # ------
rd.xpr> 
rd.xpr> # Read this dataset from a local file:
rd.xpr> ## Not run: 
rd.xpr> ##D w <- read.xport('test2.xpt')
rd.xpr> ## End(Not run)
rd.xpr> 
rd.xpr> # Or read a copy of test2.xpt available on the web:
rd.xpr> host <- 'http://biostat.mc.vanderbilt.edu'

rd.xpr> path <- '/cgi-bin/viewvc.cgi/*checkout*/Hmisc/trunk/tests/test2.xpt'

rd.xpr> url <- paste(host,path,sep="")

rd.xpr> w <- read.xport(url)

rd.xpr> # We can also get the dataset wrapped in a list
rd.xpr> w <- read.xport(url, as.list=TRUE)

rd.xpr> # And we can ask for the format information to be included as well.
rd.xpr> w <- read.xport(url, as.list=TRUE, include.formats=TRUE)

rd.xpr> ## Don't show: 
rd.xpr> SASxport:::assert( is.data.frame(w)==FALSE && is.list(w)==TRUE )

rd.xpr> ## End Don't show
rd.xpr> 
rd.xpr> 
rd.xpr> ## Not run: 
rd.xpr> ##D ## The Hmisc library provides many useful functions for interacting with
rd.xpr> ##D ## data imported from SAS via read.xport()
rd.xpr> ##D library(Hmisc)
rd.xpr> ##D 
rd.xpr> ##D describe(w$test)   # see labels, format names for dataset test
rd.xpr> ##D lapply(w, describe)# see descriptive stats in more detaiil for each variable
rd.xpr> ##D 
rd.xpr> ##D contents(w$test)   # another way to see variable attributes
rd.xpr> ##D lapply(w, contents)# show contents of individual items in more detail
rd.xpr> ##D 
rd.xpr> ##D options(digits=7)  # compare the following matrix with PROC MEANS output
rd.xpr> ##D t(sapply(w$z, function(x)
rd.xpr> ##D  c(Mean=mean(x),SD=sqrt(var(x)),Min=min(x),Max=max(x))))
rd.xpr> ## End(Not run)
rd.xpr> 
rd.xpr> 
rd.xpr> 
rd.xpr> 
> names(w) <- NULL
> w[[3]] <- NULL
> write.xport(list=w,file="a.xpt") #12.a
Warning message:
In write.xport(list = w, file = "a.xpt") :
  Replacing missing or invalid dataset names
> lookup.xport("a.xpt")            #12.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `DATA1':
 dataset name      type   format flength fdigits iformat iflength ifdigits
   DATA1 RACE character     RACE       0       0                0        0
   DATA1  AGE   numeric                0       0                0        0
   DATA1   D1   numeric   MMDDYY      10       0                0        0
   DATA1  DT1   numeric DATETIME       0       0                0        0
   DATA1   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

Variables in data set `DATA2':
 dataset name    type format flength fdigits iformat iflength ifdigits label
   DATA2   X3 numeric              0       0                0        0      
   DATA2   X4 numeric              0       0                0        0      
   DATA2   X5 numeric              0       0                0        0      
   DATA2   X6 numeric              0       0                0        0      
   DATA2   X7 numeric              0       0                0        0      
   DATA2   X8 numeric              0       0                0        0      
 nobs
  100
  100
  100
  100
  100
  100

> (tmp <- read.xport("a.xpt"))     #12.c
$data1
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2       31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$data2
             X3         X4          X5         X6         X7          X8
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> # remove variable names
> example(read.xport)

rd.xpr> # -------
rd.xpr> # SAS code to generate test dataset:
rd.xpr> # -------
rd.xpr> # libname y SASV5XPT "test2.xpt";
rd.xpr> #
rd.xpr> # PROC FORMAT; VALUE race 1=green 2=blue 3=purple; RUN;
rd.xpr> # PROC FORMAT CNTLOUT=format;RUN;  * Name, e.g. 'format', unimportant;
rd.xpr> # data test;
rd.xpr> # LENGTH race 3 age 4;
rd.xpr> # age=30; label age="Age at Beginning of Study";
rd.xpr> # race=2;
rd.xpr> # d1='3mar2002'd ;
rd.xpr> # dt1='3mar2002 9:31:02'dt;
rd.xpr> # t1='11:13:45't;
rd.xpr> # output;
rd.xpr> #
rd.xpr> # age=31;
rd.xpr> # race=4;
rd.xpr> # d1='3jun2002'd ;
rd.xpr> # dt1='3jun2002 9:42:07'dt;
rd.xpr> # t1='11:14:13't;
rd.xpr> # output;
rd.xpr> # format d1 mmddyy10. dt1 datetime. t1 time. race race.;
rd.xpr> # run;
rd.xpr> # data z; LENGTH x3 3 x4 4 x5 5 x6 6 x7 7 x8 8;
rd.xpr> #    DO i=1 TO 100;
rd.xpr> #        x3=ranuni(3);
rd.xpr> #        x4=ranuni(5);
rd.xpr> #        x5=ranuni(7);
rd.xpr> #        x6=ranuni(9);
rd.xpr> #        x7=ranuni(11);
rd.xpr> #        x8=ranuni(13);
rd.xpr> #        output;
rd.xpr> #        END;
rd.xpr> #    DROP i;
rd.xpr> #    RUN;
rd.xpr> # PROC MEANS; RUN;
rd.xpr> # PROC COPY IN=work OUT=y;SELECT test format z;RUN; *Creates test2.xpt;
rd.xpr> # ------
rd.xpr> 
rd.xpr> # Read this dataset from a local file:
rd.xpr> ## Not run: 
rd.xpr> ##D w <- read.xport('test2.xpt')
rd.xpr> ## End(Not run)
rd.xpr> 
rd.xpr> # Or read a copy of test2.xpt available on the web:
rd.xpr> host <- 'http://biostat.mc.vanderbilt.edu'

rd.xpr> path <- '/cgi-bin/viewvc.cgi/*checkout*/Hmisc/trunk/tests/test2.xpt'

rd.xpr> url <- paste(host,path,sep="")

rd.xpr> w <- read.xport(url)

rd.xpr> # We can also get the dataset wrapped in a list
rd.xpr> w <- read.xport(url, as.list=TRUE)

rd.xpr> # And we can ask for the format information to be included as well.
rd.xpr> w <- read.xport(url, as.list=TRUE, include.formats=TRUE)

rd.xpr> ## Don't show: 
rd.xpr> SASxport:::assert( is.data.frame(w)==FALSE && is.list(w)==TRUE )

rd.xpr> ## End Don't show
rd.xpr> 
rd.xpr> 
rd.xpr> ## Not run: 
rd.xpr> ##D ## The Hmisc library provides many useful functions for interacting with
rd.xpr> ##D ## data imported from SAS via read.xport()
rd.xpr> ##D library(Hmisc)
rd.xpr> ##D 
rd.xpr> ##D describe(w$test)   # see labels, format names for dataset test
rd.xpr> ##D lapply(w, describe)# see descriptive stats in more detaiil for each variable
rd.xpr> ##D 
rd.xpr> ##D contents(w$test)   # another way to see variable attributes
rd.xpr> ##D lapply(w, contents)# show contents of individual items in more detail
rd.xpr> ##D 
rd.xpr> ##D options(digits=7)  # compare the following matrix with PROC MEANS output
rd.xpr> ##D t(sapply(w$z, function(x)
rd.xpr> ##D  c(Mean=mean(x),SD=sqrt(var(x)),Min=min(x),Max=max(x))))
rd.xpr> ## End(Not run)
rd.xpr> 
rd.xpr> 
rd.xpr> 
rd.xpr> 
> colnames(w[[2]]) <- rep("", length=ncol(w[[2]]))
> write.xport(list=w,file="a.xpt") #13.a
Warning message:
In write.xport(list = w, file = "a.xpt") :
  Unnamed variables detected, using default names
> lookup.xport("a.xpt")            #13.b

SAS xport file
--------------
Filename: `a.xpt'

Variables in data set `TEST':
 dataset name      type   format flength fdigits iformat iflength ifdigits
    TEST RACE   numeric     RACE       0       0                0        0
    TEST  AGE   numeric                0       0                0        0
    TEST   D1   numeric   MMDDYY      10       0                0        0
    TEST  DT1   numeric DATETIME       0       0                0        0
    TEST   T1 character     TIME       0       0                0        0
                     label nobs
                              2
 Age at Beginning of Study    2
                              2
                              2
                              2

Variables in data set `Z':
 dataset name    type format flength fdigits iformat iflength ifdigits label
       Z VAR1 numeric              0       0                0        0      
       Z VAR2 numeric              0       0                0        0      
       Z VAR3 numeric              0       0                0        0      
       Z VAR4 numeric              0       0                0        0      
       Z VAR5 numeric              0       0                0        0      
       Z VAR6 numeric              0       0                0        0      
 nobs
  100
  100
  100
  100
  100
  100

Variables in data set `FORMATS':
 dataset     name      type format flength fdigits iformat iflength ifdigits
 FORMATS  FMTNAME character              0       0                0        0
 FORMATS    START character              0       0                0        0
 FORMATS      END character              0       0                0        0
 FORMATS    LABEL character              0       0                0        0
 FORMATS      MIN   numeric              0       0                0        0
 FORMATS      MAX   numeric              0       0                0        0
 FORMATS  DEFAULT   numeric              0       0                0        0
 FORMATS   LENGTH   numeric              0       0                0        0
 FORMATS     FUZZ   numeric              0       0                0        0
 FORMATS   PREFIX character              0       0                0        0
 FORMATS     MULT   numeric              0       0                0        0
 FORMATS     FILL character              0       0                0        0
 FORMATS   NOEDIT   numeric              0       0                0        0
 FORMATS     TYPE character              0       0                0        0
 FORMATS    SEXCL character              0       0                0        0
 FORMATS    EEXCL character              0       0                0        0
 FORMATS      HLO character              0       0                0        0
 FORMATS   DECSEP character              0       0                0        0
 FORMATS  DIG3SEP character              0       0                0        0
 FORMATS DATATYPE character              0       0                0        0
 FORMATS LANGUAGE character              0       0                0        0
 label nobs
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3
          3

> (tmp <- read.xport("a.xpt"))     #13.c
$test
  RACE AGE         D1                    DT1       T1
1 blue  30 2002-03-03 (03 Mar 2002 09:31:02) 11:13:45
2 <NA>  31 2002-06-03 (03 Jun 2002 09:42:07) 11:14:13

$z
           VAR1       VAR2        VAR3       VAR4       VAR5        VAR6
1   0.554809570 0.91026592 0.199472918 0.77819594 0.76480773 0.907832049
2   0.628906250 0.59507513 0.149382079 0.19969965 0.45795571 0.571611564
3   0.560180664 0.20155370 0.871071571 0.89158189 0.81783537 0.069788893
4   0.930175781 0.67952251 0.064709651 0.23829160 0.67566234 0.861676832
5   0.427307129 0.53496075 0.903572354 0.77109401 0.74774458 0.131040108
6   0.185058594 0.51981020 0.793640781 0.78736015 0.76898101 0.891668539
7   0.173126221 0.41728735 0.038577245 0.50426505 0.49957831 0.613314660
8   0.896362305 0.80392504 0.701412492 0.70635040 0.14863697 0.406764784
9   0.533935547 0.29961348 0.528317338 0.99510797 0.21445599 0.373646303
10  0.360412598 0.59865904 0.724511519 0.21542188 0.31943661 0.148101144
11  0.567138672 0.03009592 0.068136962 0.13866363 0.81119381 0.337979215
12  0.840698242 0.13869596 0.309818228 0.52551615 0.80671759 0.844569556
13  0.262084961 0.21521139 0.075481503 0.13430464 0.56954970 0.443899054
14  0.685424805 0.81032562 0.975597342 0.70753509 0.12778332 0.317631773
15  0.752197266 0.57752514 0.195447854 0.71567068 0.72801126 0.563829176
16  0.993896484 0.09662127 0.364689407 0.54199747 0.81191797 0.959635779
17  0.264099121 0.11393309 0.812418848 0.28320176 0.46030928 0.530359364
18  0.630615234 0.80165958 0.918073907 0.19114500 0.04715550 0.297804402
19  0.630126953 0.83771992 0.658738920 0.20772481 0.11557381 0.936940561
20  0.671508789 0.62512779 0.713715522 0.27031328 0.44528787 0.076310964
21  0.451599121 0.97465801 0.088417932 0.56017806 0.08855998 0.131952559
22  0.531616211 0.13582230 0.125990903 0.68861063 0.05864216 0.657296563
23  0.745361328 0.52416706 0.138287167 0.93139657 0.93634337 0.279499571
24  0.860229492 0.23535800 0.067773213 0.55205996 0.86140652 0.580399050
25  0.885864258 0.89300871 0.154446173 0.05930633 0.47589580 0.489967297
26  0.133148193 0.61039686 0.236988616 0.43535325 0.67330840 0.042648594
27  0.106369019 0.47435546 0.894045589 0.71908408 0.91220874 0.777561118
28  0.321899414 0.82515574 0.345769540 0.27898190 0.37587550 0.221321993
29  0.584350586 0.45017719 0.256426542 0.55128526 0.99790806 0.116743046
30  0.782714844 0.88925648 0.672125481 0.44156701 0.77192310 0.389772559
31  0.255737305 0.76892853 0.691356288 0.24103043 0.30677701 0.010585836
32  0.268127441 0.49482346 0.566317322 0.80006739 0.53679024 0.787674241
33  0.132080078 0.55090714 0.066530403 0.35998585 0.50696324 0.892336901
34  0.209716797 0.87050629 0.265810063 0.34237937 0.99317888 0.516304360
35  0.731567383 0.80692101 0.868052749 0.41159689 0.81571351 0.670747127
36  0.974731445 0.05395064 0.043045310 0.30307713 0.82485616 0.613199657
37  0.060417175 0.93399811 0.892186217 0.54169906 0.80318660 0.918251223
38  0.053512573 0.45821238 0.997252798 0.18699222 0.74571744 0.118700152
39  0.274291992 0.15809727 0.456446022 0.81648360 0.93111440 0.607009959
40  0.902587891 0.92125559 0.663786719 0.67212570 0.81908712 0.803353309
41  0.107711792 0.39496422 0.157332692 0.34387862 0.81230429 0.606811568
42  0.264343262 0.35475087 0.116596107 0.21385085 0.33521056 0.911987601
43  0.717773438 0.92168236 0.860613002 0.26366805 0.50917660 0.285974402
44  0.298767090 0.97046804 0.715277340 0.40017026 0.53598483 0.602097132
45  0.838989258 0.43197370 0.872493969 0.93329615 0.55644537 0.399561767
46  0.547485352 0.87380695 0.425328480 0.84611454 0.91989352 0.449281177
47  0.951660156 0.55768442 0.701688468 0.69816831 0.07641118 0.280890167
48  0.438110352 0.67539835 0.596034631 0.31697085 0.97244354 0.052248614
49  0.360046387 0.84610510 0.208412720 0.62072056 0.59479764 0.122431251
50  0.055969238 0.76994514 0.313554974 0.71819807 0.62459766 0.170687066
51  0.409973145 0.02636161 0.004133753 0.43609714 0.56356174 0.735989964
52  0.835083008 0.06974322 0.933788894 0.25459031 0.68429414 0.836456893
53  0.328552246 0.95790482 0.581586711 0.96089912 0.64085773 0.649938160
54  0.153930664 0.10510141 0.862072270 0.82662339 0.84238057 0.104127737
55  0.360107422 0.57847071 0.425726887 0.64190236 0.66252058 0.930490654
56  0.169525146 0.91843414 0.262370519 0.47529812 0.62708726 0.655481011
57  0.915771484 0.70346546 0.545828892 0.59429612 0.21518204 0.868149194
58  0.194366455 0.85970068 0.682605598 0.28758652 0.08545504 0.044229804
59  0.262573242 0.02926101 0.503761623 0.72549339 0.82246938 0.239758181
60  0.890747070 0.46807122 0.086424077 0.19262842 0.35845780 0.013044060
61  0.934326172 0.94439077 0.478865772 0.21141539 0.85893385 0.039905848
62  0.015239716 0.02890442 0.531706404 0.91962052 0.96377103 0.279689568
63  0.363159180 0.98267412 0.382022258 0.09035326 0.53721446 0.278258128
64  0.533203125 0.09129518 0.864049435 0.21085775 0.74247024 0.520784463
65  0.812866211 0.92549849 0.326250156 0.03063606 0.37242442 0.681011943
66  0.821655273 0.93953514 0.730109224 0.56800164 0.36850434 0.135115089
67  0.495239258 0.18656993 0.703959208 0.91950956 0.37737182 0.331145230
68  0.026271820 0.28924441 0.370986423 0.46839579 0.26069062 0.496386772
69  0.961181641 0.07934558 0.370282067 0.01009577 0.91984033 0.250117553
70  0.867187500 0.62807846 0.297433884 0.42768580 0.67836226 0.055045441
71  0.634155273 0.45481491 0.366012510 0.46006086 0.62342353 0.553148303
72  0.529907227 0.22573161 0.255918004 0.81299654 0.48340851 0.388373295
73  0.969482422 0.06762362 0.233285627 0.28913314 0.40695817 0.379425337
74  0.322631836 0.16369033 0.696140964 0.23542822 0.44133423 0.353194184
75  0.980957031 0.88483143 0.904902402 0.40588630 0.43244408 0.104077954
76  0.381713867 0.33405781 0.008811487 0.85152244 0.97412609 0.427583363
77  0.352050781 0.81973124 0.882616673 0.97839957 0.91734389 0.705771805
78  0.236816406 0.13472927 0.039259837 0.18197673 0.83403650 0.871165875
79  0.216461182 0.39390779 0.689487964 0.52816572 0.18237391 0.328639985
80  0.579467773 0.16152561 0.799306294 0.01943226 0.19664442 0.494486603
81  0.213165283 0.49794507 0.903515683 0.82634666 0.95104984 0.512989034
82  0.369934082 0.48608422 0.740175959 0.22198786 0.88631389 0.958679024
83  0.023796082 0.34724808 0.996114468 0.41663422 0.13658224 0.809843882
84  0.390930176 0.94919586 0.265328477 0.42259452 0.18362993 0.018595368
85  0.171417236 0.26409721 0.171493893 0.43668409 0.29935710 0.788430851
86  0.980102539 0.42689586 0.197483132 0.61358141 0.66990291 0.453710159
87  0.656982422 0.36696911 0.047739081 0.27451939 0.18052140 0.054421855
88  0.488464355 0.91196012 0.845107406 0.83929407 0.90409508 0.544446660
89  0.314025879 0.50865173 0.984073751 0.74795267 0.57416734 0.370512281
90  0.805297852 0.37908387 0.390562004 0.36959290 0.51052391 0.633604296
91  0.471252441 0.43228960 0.225722159 0.80595341 0.16973734 0.474416345
92  0.539428711 0.33449984 0.007872077 0.28196563 0.04201044 0.666856505
93  0.825561523 0.27042723 0.774102103 0.16982144 0.04986308 0.830708595
94  0.005760193 0.06863922 0.413105001 0.80787951 0.81871474 0.565592853
95  0.623413086 0.09422225 0.729800716 0.35120569 0.16269988 0.935669079
96  0.963989258 0.96828461 0.043478839 0.90069377 0.50886120 0.842695923
97  0.421020508 0.16918373 0.196973316 0.52296367 0.20205632 0.007268806
98  0.313354492 0.58946466 0.881128855 0.73021358 0.38516078 0.459060744
99  0.963256836 0.91588259 0.873051692 0.97309719 0.75135814 0.770613592
100 0.823852539 0.12452227 0.845681194 0.08775397 0.15969781 0.854058568

> 
> proc.time()
   user  system elapsed 
  6.192   1.760  17.901 
